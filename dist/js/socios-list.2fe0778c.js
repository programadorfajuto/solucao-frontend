(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["socios-list"],{"87c7":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loader-demo-box"},[a("div",{staticClass:"jumping-dots-loader"},[a("span"),a("span"),a("span")])])}],i={},n=i,o=a("2877"),c=Object(o["a"])(n,r,s,!1,null,null,null);e["a"]=c.exports},adce:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grid-margin stretch-card",class:t.col},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body pb-0"},[a("div",{staticClass:"d-flex justify-content-between"},[a("h4",{staticClass:"card-title mb-0"},[t._v(t._s(t.title))])]),a("h3",{staticClass:"font-weight-medium mb-4"},[t._v(t._s(t.value))])])])])},s=[],i={props:["title","col","value"]},n=i,o=a("2877"),c=Object(o["a"])(n,r,s,!1,null,null,null);e["a"]=c.exports},c6fd:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-icons btn-rounded btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("visualizar")}}},[a("i",{staticClass:"mdi mdi-eye"})]),0==t.user.perfil||2==t.user.perfil&&t.subIsActive("/socios")?a("button",{staticClass:"btn btn-icons btn-rounded btn-warning",attrs:{type:"button"},on:{click:function(e){return t.$emit("editar")}}},[a("i",{staticClass:"mdi mdi-pen"})]):t._e(),0==t.user.perfil&&"undefined"==typeof t.excluir?a("button",{staticClass:"btn btn-icons btn-rounded btn-danger",attrs:{type:"button"},on:{click:t.mostrarModalDeConfirmacao}},[a("i",{staticClass:"mdi mdi-trash-can"})]):t._e()])},s=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid pt-3 pb-3"},[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-lg btn-primary float-left",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[a("i",{staticClass:"mdi mdi-arrow-left"}),t._v(" voltar\n      ")]),t.carregando?a("button",{staticClass:"btn btn-lg btn-danger float-right",attrs:{type:"button"},on:{click:t.deletarEntidade}},[a("i",{staticClass:"fa-spin fa fa-refresh"})]):a("button",{staticClass:"btn btn-lg btn-danger float-right",attrs:{type:"button"},on:{click:t.deletarEntidade}},[t._v("Sim, Excluir")])])])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h3",{staticClass:"text-center"},[t._v("Quer mesmo excluir este dado?")])])])}],c=(a("96cf"),a("1da1")),l={props:["namespace","action","id"],data:function(){return{carregando:!1}},methods:{deletarEntidade:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.carregando=!0,t.next=4,this.$store.dispatch(this.namespace+"/"+this.action,this.id);case 4:e=t.sent,this.carregando=!1,this.$emit("close"),this.$toasted.success(e),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),this.carregando=!1,this.$emit("close"),this.$toasted.error(t.t0.data?t.t0.data.mensagem:"Não foi possível excluir este dado.");case 15:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}()}},u=l,p=a("2877"),d=Object(p["a"])(u,n,o,!1,null,null,null),f=d.exports,m=a("2f62");function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g={computed:b({},Object(m["c"])("auth",["user"])),props:["namespace","action","id","excluir"],methods:{mostrarModalDeConfirmacao:function(){this.$modal.show(f,{namespace:this.namespace,action:this.action,id:this.id},{height:"auto"})},subIsActive:function(t){var e=this,a=Array.isArray(t)?t:[t];return a.some((function(t){return 0===e.$route.path.indexOf(t)}))}}},h=g,C=Object(p["a"])(h,r,s,!1,null,null,null);e["a"]=C.exports},e777:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 grid-margin"},[a("div",{staticClass:"row"},[0==t.user.perfil?a("dashboard-card-component",{attrs:{col:"col-md-6",title:"Total de Sócios",value:t.dados.totalDeSocios}}):t._e(),1!=t.user.perfil?a("dashboard-card-component",{attrs:{col:"col-md-6",title:"Total de Sócios Cheque",value:t.dados.totalDeSociosCheque}}):t._e()],1)]),a("div",{staticClass:"col-md-12 grid-margin"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h4",{staticClass:"card-title mb-5"},[t._v("Filtro de Sócios")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Nome:")]),a("div",{staticClass:"input-group"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nome,expression:"nome"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.nome},on:{input:function(e){e.target.composing||(t.nome=e.target.value)}}})])])]),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Cpf:")]),a("div",{staticClass:"input-group"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpf,expression:"cpf"},{name:"mask",rawName:"v-mask",value:"###.###.###-##",expression:"'###.###.###-##'"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.cpf},on:{input:function(e){e.target.composing||(t.cpf=e.target.value)}}})])])]),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Título:")]),a("div",{staticClass:"input-group"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.titulo,expression:"titulo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.titulo},on:{input:function(e){e.target.composing||(t.titulo=e.target.value)}}})])])]),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Títular:")]),a("div",{staticClass:"input-group"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.titular,expression:"titular"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.titular},on:{input:function(e){e.target.composing||(t.titular=e.target.value)}}})])])]),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Origem:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.origem,expression:"origem"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.origem=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.origens,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.name))])}))],2)])])])]),a("div",{staticClass:"card-body"},[a("label",[t._v("total de resultados: "+t._s(t.paginados.rowCount))]),0==t.user.perfil?a("router-link",{staticClass:"btn btn-lg btn-success float-right ml-5",attrs:{to:{name:"socios-create"}}},[t._v("Adicionar Sócio")]):t._e(),a("div",{staticClass:"dropdown ml-lg-auto ml-3 toolbar-item float-right"},[0==t.user.perfil?a("button",{staticClass:"btn btn-info btn-lg dropdown-toggle",attrs:{type:"button",id:"dropdownexport","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Importar")]):t._e(),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownexport"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.mostrarModalDeImportacaoDeSocios}},[t._v("Importar Sócios")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.mostrarModalDeImportacaoDeSociosCheque}},[t._v("Importar Sócios Cheque")])])]),t.carregando?a("loader-component"):a("table",{staticClass:"table table-striped table-responsive"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Nome")]),a("th",{attrs:{scope:"col"}},[t._v("Cpf/Cnpj")]),a("th",{attrs:{scope:"col"}},[t._v("Título")]),a("th",{attrs:{scope:"col"}},[t._v("Planilha")]),a("th",{attrs:{scope:"col"}},[t._v("Situação")]),a("th",{attrs:{scope:"col"}},[t._v("Origem")]),a("th",{attrs:{scope:"col"}},[t._v("Operador")]),a("th",{attrs:{scope:"col"}},[t._v("Ações")])])]),a("tbody",t._l(t.paginados.results,(function(e,r){return a("tr",{key:e.id},[a("td",[t._v(t._s(t.paginados.pageCount*(t.paginados.currentPage-1)+r+1))]),a("td",[t._v(t._s(e.nome))]),a("td",[t._v(t._s(e.cpfCnpj))]),a("td",[t._v(t._s(e.titulo))]),a("td",[t._v(t._s(e.planilha))]),a("td",[t._v(t._s(t.situacoes[Number(e.ativo)]))]),a("td",[t._v(t._s(null!=e.origem?t.origens.find((function(t){return t.value==e.origem})).name:"Sócio sem Origem"))]),a("td",[t._v(t._s(e.operador?e.operador.nome:"Não designado"))]),a("td",[a("crud-actions-component",{attrs:{namespace:"socios",action:"ActionExcluirSocio",id:e.id},on:{visualizar:function(a){return t.$router.push({name:"socios-view",params:{id:e.id}})},editar:function(a){return t.$router.push({name:"socios-edit",params:{id:e.id}})}}})],1)])})),0),a("tfoot")])],1),a("div",{staticClass:"card-footer"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-icons btn-rounded btn-primary",on:{click:function(e){return t.filtrar(t.paginados.currentPage>1?t.paginados.currentPage-1:null)}}},[a("i",{staticClass:"fa fa-chevron-left"})])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-icons btn-rounded btn-primary",on:{click:function(e){return t.filtrar(t.paginados.currentPage<t.paginados.pageCount?t.paginados.currentPage+1:null)}}},[a("i",{staticClass:"fa fa-chevron-right"})])])]),a("div",{staticClass:"col"})])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend bg-danger"},[a("span",{staticClass:"input-group-text bg-transparent"},[a("i",{staticClass:"text-white fa fa-user-circle"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend bg-danger"},[a("span",{staticClass:"input-group-text bg-transparent"},[a("i",{staticClass:"text-white fa fa-user-circle"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend bg-danger"},[a("span",{staticClass:"input-group-text bg-transparent"},[a("i",{staticClass:"text-white fa fa-user-circle"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend bg-danger"},[a("span",{staticClass:"input-group-text bg-transparent"},[a("i",{staticClass:"text-white fa fa-user-circle"})])])}],i=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("1da1")),n=a("ade3"),o=a("2f62"),c=a("adce"),l=a("87c7"),u=a("c6fd"),p=a("fbfe"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"p-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[a("input",{ref:"file",attrs:{type:"file",name:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"},on:{change:t.tratarUpload}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cpf"}},[t._v("Nome da Planilha")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])])]),t.enviando||null==t.file?null!=t.file?a("button",{staticClass:"btn btn-lg btn-warning",attrs:{type:"submit"}},[a("i",{staticClass:"fa-spinner fa fa-spin"})]):t._e():a("button",{staticClass:"btn btn-lg btn-success",attrs:{type:"submit"}},[t._v("\n    Enviar\n  ")])])},f=[],m=(a("7f7f"),a("bc3a")),v=a.n(m);function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var h={data:function(){return{enviando:!1,file:null,name:Math.random()+1}},methods:g(g({},Object(o["b"])("socios",["ActionImportacao"])),{},{submit:function(){var t=this;this.enviando=!0;var e=new FormData;e.append("file",this.file),e.append("nome",this.name),v.a.post(p["a"].url+"importacao/socio/"+localStorage["id"],e,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){t.enviando=!1,t.$toasted.success(e.data.mensagem),t.$emit("close")})).catch((function(e){t.$toasted.error(e.data?e.data.mensagem:"Não foi possível processar esta planilha."),t.$emit("close")}))},tratarUpload:function(){this.file=this.$refs.file.files[0]}})},C=h,_=a("2877"),O=Object(_["a"])(C,d,f,!1,null,null,null),y=O.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"p-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[a("input",{ref:"file",attrs:{type:"file",name:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"},on:{change:t.tratarUpload}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cpf"}},[t._v("Nome da Planilha")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])])]),t.enviando||null==t.file?null!=t.file?a("button",{staticClass:"btn btn-lg btn-warning",attrs:{type:"submit"}},[a("i",{staticClass:"fa-spinner fa fa-spin"})]):t._e():a("button",{staticClass:"btn btn-lg btn-success",attrs:{type:"submit"}},[t._v("\n    Enviar\n  ")])])},j=[];function x(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function P(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?x(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var $={data:function(){return{enviando:!1,file:null,name:Math.random()+1}},methods:P(P({},Object(o["b"])("socios",["ActionImportacao"])),{},{submit:function(){var t=this;this.enviando=!0;var e=new FormData;e.append("nome",this.name),e.append("file",this.file),v.a.post(p["a"].url+"importacao/sociocheque/"+localStorage["id"],e,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){t.enviando=!1,t.$toasted.success(e.data.mensagem),t.$emit("close")})).catch((function(e){t.$toasted.error(e.data?e.data.mensagem:"Não foi possível processar esta planilha."),t.$emit("close")}))},tratarUpload:function(){this.file=this.$refs.file.files[0]}})},D=$,S=Object(_["a"])(D,w,j,!1,null,null,null),E=S.exports;function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function N(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var A={components:{DashboardCardComponent:c["a"],LoaderComponent:l["a"],CrudActionsComponent:u["a"]},data:function(){return{carregando:!0,perfis:p["a"].perfil,situacoes:p["a"].situacao,origens:p["a"].origens,filtro:{nome:"",cpf:"",titulo:"",origem:"",titular:""},nome:"",cpf:"",titulo:"",origem:"",titular:""}},computed:N(N({},Object(o["c"])("auth",["user"])),Object(o["c"])("socios",["paginados","dados","importacao"])),methods:N(N({},Object(o["b"])("socios",["ActionBuscarSociosPaginados","ActionBuscarDadosIniciais"])),{},{filtrar:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.carregando=!0,this.filtro.nome=this.nome,this.filtro.titulo=this.titulo,this.filtro.origem=this.origem,this.filtro.cpf=this.cpf,this.filtro.titular=this.titular,t.next=8,this.ActionBuscarSociosPaginados({filtro:this.filtro,pagina:e,quantidade:5,id:window.localStorage["id"]});case 8:this.carregando=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),mostrarModalDeImportacaoDeSocios:function(){this.$modal.show(y,{},{height:"auto"})},mostrarModalDeImportacaoDeSociosCheque:function(){this.$modal.show(E,{},{height:"auto"})}}),watch:{nome:function(t){this.filtro.nome=t,this.filtrar(1)},titular:function(t){this.filtro.titular=t,this.filtrar(1)},titulo:function(t){this.filtro.titulo=t,this.filtrar(1)},origem:function(t){this.filtro.origem=t,this.filtrar(1)},cpf:function(t){this.filtro.cpf=t,this.filtrar(1)}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.filtrar(1);case 2:return t.next=4,this.ActionBuscarDadosIniciais();case 4:this.carregando=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},I=A,M=Object(_["a"])(I,r,s,!1,null,null,null);e["default"]=M.exports}}]);
//# sourceMappingURL=socios-list.2fe0778c.js.map