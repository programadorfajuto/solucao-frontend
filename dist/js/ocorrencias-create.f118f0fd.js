(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ocorrencias-create"],{"739a":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 grid-margin"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h4",{staticClass:"card-title"},[t._v("Adicionar Ocorrências")]),null!=t.model?a("router-link",{staticClass:"btn btn-lg btn-primary float-right",attrs:{to:"/socios"}},[a("i",{staticClass:"mdi mdi-arrow-left"}),t._v("Voltar\n          ")]):t._e()],1),a("div",{staticClass:"card-body"},[t.carregando?a("loader-component"):a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Sócio:")]),a("multiselect",{attrs:{options:t.todos,"track-by":"id",label:"nome",searchable:!0,loading:t.multiselectLoading},on:{"search-change":t.asyncFind},model:{value:t.socio,callback:function(e){t.socio=e},expression:"socio"}})],1)]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Situação:")]),a("multiselect",{attrs:{options:t.situacoes,"track-by":"value",label:"name"},model:{value:t.situacao,callback:function(e){t.situacao=e},expression:"situacao"}})],1)]),2==t.situacao.value?a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Data do Agendamento:")]),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend bg-danger"},[a("span",{staticClass:"input-group-text bg-transparent"},[a("i",{staticClass:"text-white fa fa-asterisk"})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ocorrencia.dataDoAgendamento,expression:"ocorrencia.dataDoAgendamento"},{name:"mask",rawName:"v-mask",value:"##/##/#### ##:##",expression:"'##/##/#### ##:##'"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.ocorrencia.dataDoAgendamento},on:{input:function(e){e.target.composing||t.$set(t.ocorrencia,"dataDoAgendamento",e.target.value)}}})])])]):t._e(),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check form-check-flat"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ocorrencia.ativo,expression:"ocorrencia.ativo"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.ocorrencia.ativo)?t._i(t.ocorrencia.ativo,null)>-1:t.ocorrencia.ativo},on:{change:function(e){var a=t.ocorrencia.ativo,o=e.target,r=!!o.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);o.checked?s<0&&t.$set(t.ocorrencia,"ativo",a.concat([i])):s>-1&&t.$set(t.ocorrencia,"ativo",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.ocorrencia,"ativo",r)}}}),t._v("\n                    Ativo?\n                    "),a("i",{staticClass:"input-helper"})])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Mensagem:")]),a("div",{staticClass:"input-group"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ocorrencia.mensagem,expression:"ocorrencia.mensagem"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.ocorrencia.mensagem},on:{input:function(e){e.target.composing||t.$set(t.ocorrencia,"mensagem",e.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Tipos De Contato:")]),a("multiselect",{attrs:{options:t.tiposDeContato,"track-by":"value",label:"name",multiple:!0},model:{value:t.ocorrencia.tiposDeContato,callback:function(e){t.$set(t.ocorrencia,"tiposDeContato",e)},expression:"ocorrencia.tiposDeContato"}})],1)])])],1),t._m(1)])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend bg-danger"},[a("span",{staticClass:"input-group-text bg-transparent"},[a("i",{staticClass:"fa fa-asterisk text-white"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-footer"},[a("button",{staticClass:"btn btn-lg btn-success float-right",attrs:{type:"submit"}},[t._v("Salvar")])])}],i=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("1da1")),s=(a("7514"),a("ade3")),n=a("2f62"),c=a("87c7"),l=a("fbfe");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={components:{LoaderComponent:c["a"]},data:function(){return{carregando:!1,multiselectLoading:!1,ocorrencia:{ativo:!0,operador:window.localStorage["id"]},tiposDeContato:l["a"].tiposDeContato,situacoes:l["a"].situacoesDaOcorrencia,situacao:{value:"",name:""},todos:[],socio:{}}},computed:d({},Object(n["c"])("auth",["user"])),methods:d(d(d({},Object(n["b"])("socios",["ActionBuscarSociosPaginados","ActionConfigurarSocio"])),Object(n["b"])("ocorrencias",["ActionAdicionarOcorrencia"])),{},{asyncFind:function(t){var e=this;this.multiselectLoading=!0,this.ActionBuscarSociosPaginados({filtro:{nome:t},pagina:1,quantidade:10,id:window.localStorage["id"]}).then((function(t){e.todos=t.results,e.socio=e.todos.find((function(t){return t.id==e.$route.params.id})),e.multiselectLoading=!1}))},submit:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.carregando=!0,this.ocorrencia.tiposDeContato=this.ocorrencia.tiposDeContato.map((function(t){return t.value})),this.ocorrencia.socio=this.socio.id,this.ocorrencia.situacao=this.situacao.value,t.next=7,this.ActionAdicionarOcorrencia(this.ocorrencia);case 7:e=t.sent,this.$toasted.success(e),this.carregando=!1,this.$router.push({name:"ocorrencias-list"}),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),this.carregando=!1,this.$toasted.error(t.t0.data?t.t0.data.mensagem:"Não foi possível adicionar este usuário.");case 17:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(){return t.apply(this,arguments)}return e}()}),mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.asyncFind(this.$route.params.nome);case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.ActionConfigurarSocio(null);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},m=p,v=a("2877"),f=Object(v["a"])(m,o,r,!1,null,null,null);e["default"]=f.exports},"87c7":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loader-demo-box"},[a("div",{staticClass:"jumping-dots-loader"},[a("span"),a("span"),a("span")])])}],i={},s=i,n=a("2877"),c=Object(n["a"])(s,o,r,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=ocorrencias-create.f118f0fd.js.map