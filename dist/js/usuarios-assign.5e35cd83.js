(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["usuarios-assign"],{"2f21":function(t,e,a){"use strict";var s=a("79e5");t.exports=function(t,e){return!!t&&s((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"55dd":function(t,e,a){"use strict";var s=a("5ca1"),i=a("d8e8"),r=a("4bf8"),n=a("79e5"),o=[].sort,l=[1,2,3];s(s.P+s.F*(n((function(){l.sort(void 0)}))||!n((function(){l.sort(null)}))||!a("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(r(this)):o.call(r(this),i(t))}})},"57c4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 grid-margin"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h4",{staticClass:"card-title mb-5"},[t._v("Filtro de Sócios sem operador")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Nome:")]),a("div",{staticClass:"input-group"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nome,expression:"nome"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.nome},on:{input:function(e){e.target.composing||(t.nome=e.target.value)}}})])])]),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Cpf:")]),a("div",{staticClass:"input-group"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cpf,expression:"cpf"},{name:"mask",rawName:"v-mask",value:"###.###.###-##",expression:"'###.###.###-##'"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.cpf},on:{input:function(e){e.target.composing||(t.cpf=e.target.value)}}})])])]),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Título:")]),a("div",{staticClass:"input-group"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.titulo,expression:"titulo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.titulo},on:{input:function(e){e.target.composing||(t.titulo=e.target.value)}}})])])]),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Títular:")]),a("div",{staticClass:"input-group"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.titular,expression:"titular"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.titular},on:{input:function(e){e.target.composing||(t.titular=e.target.value)}}})])])]),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Origem:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.origem,expression:"origem"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.origem=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.origens,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v("\n                  "+t._s(e.name)+"\n                ")])}))],2)])]),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Categoria:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.categoria,expression:"categoria"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.categoria=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}}),t._l(t.categorias,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v("\n                  "+t._s(e.name)+"\n                ")])}))],2)])]),a("div",{staticClass:"col-lg-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Planilha:")]),a("div",{staticClass:"input-group"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.planilha,expression:"planilha"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.planilha},on:{input:function(e){e.target.composing||(t.planilha=e.target.value)}}})])])])])]),a("div",{staticClass:"card-body"},[a("label",[t._v("total de resultados: "+t._s(t.paginados.rowCount))]),a("button",{staticClass:"btn btn-lg btn-success float-right",attrs:{disabled:0==t.selecionados.length},on:{click:t.vincularOperador}},[t._v("\n          Vincular Selecionados\n        ")]),a("router-link",{staticClass:"btn btn-lg btn-primary float-left mr-5",attrs:{to:"/usuarios/unassign/"+this.$route.params.id}},[a("i",{staticClass:"mdi mdi-arrow-left"}),t._v(" Voltar\n        ")]),t.carregando?a("loader-component"):a("table",{staticClass:"table table-striped table-responsive"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-icons btn-rounded btn-primary",on:{click:function(e){return t.filtrar(t.paginados.currentPage>1?t.paginados.currentPage-1:null)}}},[a("i",{staticClass:"fa fa-chevron-left"})])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-icons btn-rounded btn-primary",on:{click:function(e){return t.filtrar(t.paginados.currentPage<t.paginados.pageCount?t.paginados.currentPage+1:null)}}},[a("i",{staticClass:"fa fa-chevron-right"})])])]),a("div",{staticClass:"col"})]),a("thead",[a("tr",[a("th",[a("div",{staticClass:"form-check form-check-flat"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{change:function(e){var a=t.selectAll,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=null,n=t._i(a,r);s.checked?n<0&&(t.selectAll=a.concat([r])):n>-1&&(t.selectAll=a.slice(0,n).concat(a.slice(n+1)))}else t.selectAll=i}}}),t._v("\n                    Selecionar Todos\n                    "),a("i",{staticClass:"input-helper"})])])]),a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Nome")]),a("th",{attrs:{scope:"col"}},[t._v("Cpf/Cnpj")]),a("th",{attrs:{scope:"col"}},[t._v("Título")]),a("th",{attrs:{scope:"col"}},[t._v("Planilha")]),a("th",{attrs:{scope:"col"}},[t._v("Situação")]),a("th",{attrs:{scope:"col"}},[t._v("Origem")]),a("th",{attrs:{scope:"col"}},[t._v("Categoria")]),a("th",{attrs:{scope:"col"}},[t._v("Operador")])])]),a("tbody",t._l(t.sorteados,(function(e,s){return a("tr",{key:e.id},[a("td",[a("div",{staticClass:"form-check form-check-flat"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selecionados,expression:"selecionados"}],staticClass:"form-check-input",attrs:{type:"checkbox",number:""},domProps:{value:e.id,checked:Array.isArray(t.selecionados)?t._i(t.selecionados,e.id)>-1:t.selecionados},on:{change:function(a){var s=t.selecionados,i=a.target,r=!!i.checked;if(Array.isArray(s)){var n=e.id,o=t._i(s,n);i.checked?o<0&&(t.selecionados=s.concat([n])):o>-1&&(t.selecionados=s.slice(0,o).concat(s.slice(o+1)))}else t.selecionados=r}}}),a("i",{staticClass:"input-helper"})])])]),a("td",[t._v(t._s(t.paginados.pageCount*(t.paginados.currentPage-1)+s+1))]),a("td",[t._v(t._s(e.nome))]),a("td",[t._v(t._s(e.cpfCnpj))]),a("td",[t._v(t._s(e.titulo))]),a("td",[t._v(t._s(e.planilha))]),a("td",[t._v(t._s(t.situacoes[Number(e.ativo)]))]),a("td",[t._v("\n                "+t._s(null!=e.origem?t.origens.find((function(t){return t.value==e.origem})).name:"Sócio sem Origem")+"\n              ")]),a("td",[t._v("\n                "+t._s(null!=e.categoria?t.categorias.find((function(t){return t.value==e.categoria})).name:"Sócio sem Categoria")+"\n              ")]),a("td",[t._v("\n                "+t._s(e.operador?e.operador.nome:"Não designado")+"\n              ")])])})),0),a("tfoot")])],1),a("div",{staticClass:"card-footer"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),a("div",{staticClass:"col"},[a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-icons btn-rounded btn-primary",on:{click:function(e){return t.filtrar(t.paginados.currentPage>1?t.paginados.currentPage-1:null)}}},[a("i",{staticClass:"fa fa-chevron-left"})])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-icons btn-rounded btn-primary",on:{click:function(e){return t.filtrar(t.paginados.currentPage<t.paginados.pageCount?t.paginados.currentPage+1:null)}}},[a("i",{staticClass:"fa fa-chevron-right"})])])]),a("div",{staticClass:"col"})])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend bg-danger"},[a("span",{staticClass:"input-group-text bg-transparent"},[a("i",{staticClass:"text-white fa fa-user-circle"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend bg-danger"},[a("span",{staticClass:"input-group-text bg-transparent"},[a("i",{staticClass:"text-white fa fa-user-circle"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend bg-danger"},[a("span",{staticClass:"input-group-text bg-transparent"},[a("i",{staticClass:"text-white fa fa-user-circle"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend bg-danger"},[a("span",{staticClass:"input-group-text bg-transparent"},[a("i",{staticClass:"text-white fa fa-user-circle"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend bg-danger"},[a("span",{staticClass:"input-group-text bg-transparent"},[a("i",{staticClass:"text-white fa fa-user-circle"})])])}],r=(a("8e6e"),a("456d"),a("96cf"),a("1da1")),n=(a("ac6a"),a("55dd"),a("ade3")),o=a("2f62"),l=a("87c7"),c=a("fbfe");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={components:{LoaderComponent:l["a"]},data:function(){return{carregando:!0,perfis:c["a"].perfil,situacoes:c["a"].situacao,origens:c["a"].origens,categorias:c["a"].categorias,selecionados:[],model:{},filtro:{nome:"",cpf:"",titulo:"",origem:"",titular:"",categoria:"",planilha:""},nome:"",cpf:"",titulo:"",origem:"",categoria:"",titular:"",planilha:""}},computed:p(p(p({},Object(o["c"])("auth",["user"])),Object(o["c"])("socios",["paginados"])),{},{sorteados:function(){return null!=this.paginados.results?this.paginados.results.sort((function(t,e){return t.nome.localeCompare(e.nome)})):[]},selectAll:{get:function(){return!!this.paginados.results&&this.selecionados.length==this.paginados.results.length},set:function(t){var e=[];t&&this.paginados.results.forEach((function(t){e.push(t.id)})),this.selecionados=e}}}),methods:p(p({},Object(o["b"])("socios",["ActionVincularOperador","ActionBuscarSociosPaginados"])),{},{vincularOperador:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.carregando=!0,this.model.id=this.$route.params.id,this.model.socios=this.selecionados,t.next=6,this.ActionVincularOperador(this.model);case 6:return e=t.sent,t.next=9,this.filtrar(1);case 9:this.$toasted.success(e),this.carregando=!1,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),this.carregando=!1,this.$toasted.error(t.t0.data?t.t0.data.mensagem:"Não foi possível vincular estes sócios.");case 17:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(){return t.apply(this,arguments)}return e}(),filtrar:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.carregando=!0,this.filtro.nome=this.nome,this.filtro.planilha=this.planilha,this.filtro.titulo=this.titulo,this.filtro.origem=this.origem,this.filtro.cpf=this.cpf,this.filtro.titular=this.titular,t.next=9,this.ActionBuscarSociosPaginados({filtro:this.filtro,pagina:e,quantidade:500,id:null});case 9:this.carregando=!1;case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}),watch:{nome:function(t){this.filtro.nome=t,this.filtrar(1)},titular:function(t){this.filtro.titular=t,this.filtrar(1)},titulo:function(t){this.filtro.titulo=t,this.filtrar(1)},origem:function(t){this.filtro.origem=t,this.filtrar(1)},categoria:function(t){this.filtro.categoria=t,this.filtrar(1)},cpf:function(t){this.filtro.cpf=t,this.filtrar(1)},planilha:function(t){this.filtro.planilha=t,this.filtrar(1)}},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.filtrar(1);case 2:this.carregando=!1;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},f=d,v=a("2877"),g=Object(v["a"])(f,s,i,!1,null,null,null);e["default"]=g.exports},"87c7":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loader-demo-box"},[a("div",{staticClass:"jumping-dots-loader"},[a("span"),a("span"),a("span")])])}],r={},n=r,o=a("2877"),l=Object(o["a"])(n,s,i,!1,null,null,null);e["a"]=l.exports}}]);
//# sourceMappingURL=usuarios-assign.5e35cd83.js.map